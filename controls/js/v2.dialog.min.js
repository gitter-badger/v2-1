/*!
 * JavaScript v2 v1.0.1
 * https://github.com/v2kit/v2
 *
 * @author hyly
 * @date 2018-08-01
 * @descript a valuable technology object.
 */
(function(n,t){function h(i,h){var c=!0;return{isClose:!0,init:function(){this.base.init();this.$=n(this.element);this.$context=n(this.context);this.$dialog=this.$.append('<div class="dialog"><\/div>').children().last();this.header();this.footer();this.container();this.footer()},render:function(n){this.base.render();n.fade&&this.addClass("fade");n.backdrop&&(this.$.after('<div class="backdrop"><\/div>'),this.$backdrop=this.$.next());n.max&&this.max();n.min&&this.min()},header:function(){if(h.header){var n=['<div class="dialog-header">'];f.test(h.title)?n.push(h.title):(n.push('<h5 class="dialog-title">'),h.status&&n.push(s[h.status]),n.push(h.title),n.push("<\/h5>"));(h.showMin||h.showMax||h.showClose)&&(n.push('<div class="dialog-menu">'),h.showMin&&n.push('<button data-invoke="min" class="dialog-item"><i class="glyphicons glyphicons-minus"><\/i><\/button>'),h.showMax&&(n.push('<button data-invoke="max" class="dialog-item"><i class="glyphicons glyphicons-unchecked"><\/i><\/button>'),n.push('<button data-invoke="restore" class="dialog-item"><i class="glyphicons glyphicons-more-windows"><\/i><\/button>')),h.showClose&&n.push('<button data-invoke="close" class="dialog-item"><i class="glyphicons glyphicons-remove"><\/i><\/button>'),n.push("<\/div>"));this.$dialog.append(n.join(""));this.$header=this.$dialog.children().eq(-1)}},container:function(){var u,r=h.content;if(this.$dialog.append('<div class="dialog-container"><\/div>'),this.$container=this.$dialog.children().eq(-1),r&&((u=e.exec(r))?u[1]&&o.test(u[1])?this.$container.append(t.format('<div class="text-center"><a href="#" class="thumbnail"><img src="{0}" alt="" /><\/a><\/div>',r)):(this.$container.append(t.format('<iframe src="{0}" height="100%" frameborder="0"><\/iframe>',r)),this.$container.css({padding:0,"overflow-y":"hidden"})):this.$container.append(r),c))this.$dialog.find("iframe").on("load readystatechange",function(){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){var l=n(this),o={height:"100%"},s={height:"auto"},h=this.contentWindow,t=this.contentDocument||h.document,r=n(t.documentElement),u=n(t.body),f=r.add(u),e=function(){c&&(f.css(s),i.$container.height(Math.max(u.height(),r.height())),f.css(o))};n(window).resize(e()||e)}});this.$container=this.$dialog.children().eq(-1)},footer:function(){if(h.footer)return this.$dialog.append('<div class="dialog-footer"><\/div>'),this.$footer=this.$dialog.children().eq(-1),!0},visible:function(n){return this.$.toggleClass("in",h.visible=!!n),this.$context.toggleClass("dialog-open",h.visible),!0},min:function(){h.showMin&&(this.addClass("min"),this.modalStatus="min",h.backdrop&&this.$context.removeClass("dialog-open"))},max:function(){h.showMax&&(this.addClass("max"),this.modalStatus="max",h.backdrop&&this.$context.addClass("dialog-open"))},visible:function(n){if(this.base.visible(n))return h.visible?(this.$.addClass("in"),h.backdrop&&this.$context.addClass("dialog-open"),this.compile||(this.compile=!0,h.height&&this.height(h.height))):(this.$.removeClass("in"),h.backdrop&&this.$context.removeClass("dialog-open")),!0},restore:function(){h.showMax&&(this.$.removeClass(this.modalStatus),this.modalStatus=="min"&&(this.modalStatus="max"),h.backdrop&&this.$context.addClass("dialog-open"))},height:function(n){var t,i;if(this.base.height(n))return t=0,(h.header||h.footer)&&(h.header&&(t=this.$header.outerHeight()),h.footer&&(i=this.$.find(".dialog-footer"),i.each(function(n){t+=i.eq(n).outerHeight()}))),c=!1,this.$container.css("height",h.height-t),!0},close:function(){this.hide();h.isClose&&this.destroy()},commit:function(){this.$.click(function(n){n.target===i.element&&i.close()});h.backdrop&&h.backhidden&&this.$backdrop.click(function(){i.close()});this.$context.keyup(function(n){(n.keyCode==27||n.keyCode==96)&&i.close()});var t=function(){var n=r;h.header&&(n-=i.$header.outerHeight());h.footer&&i.$footer.each(function(t){n-=Math.max(0,i.$footer.eq(t).outerHeight())});i.$.css({"max-width":u,"max-height":r});i.$container.css("max-height",n-20)};n(window).resize(t()||t);this.$.on("click","[data-invoke]",function(){i.invoke(n(this).attr("data-invoke"))})}}}var f=/^<(?!area|br|col|embed|hr|img|input|link|meta|param)(\w+).*?>.*?<\/\1>$/,e=/(?:\/?(?:\w+\.)?\w+\/)*\w+(\.\w+|\/)([?#].*)?$/,o=/^\.[bmp|jpe?g|png|svg|gif|ico|tiff|pcx|tga|exif|fpx|psd|cdr|pcd|dxf|ufo|eps|ai|raw|wmf|webp|flic|emf]$/i,s={question:'<span class="dialog-status text-warning"><i class="glyphicons glyphicons-question-sign"><\/i><\/span>',info:'<span class="dialog-status text-info"><i class="glyphicons glyphicons-info-sign"><\/i><\/span>',exclamation:'<span class="dialog-status text-danger"><i class="glyphicons glyphicons-exclamation-sign"><\/i><\/span>'},u,r,i=document.documentElement;n(document).ready(function(){u=Math.max(i.offsetWidth,i.clientWidth);r=Math.max(i.offsetHeight,i.clientHeight)});n(window).resize(function(){u=Math.max(i.offsetWidth,i.clientWidth);r=Math.max(i.offsetHeight,i.clientHeight)});t.register("dialog",h);t.dialog=function(n){return t("dialog",t.improve(n,{width:880}))};t.register("dialog.alert",{fade:!0,header:!0,footer:!0,visible:!0,status:"info",showClose:!0,cancel:function(){this.invoke("invoke-cancel")!==!1&&this.close()},footer:function(){if(this.base.footer())return this.$footer.append('<button type="button" class="btn btn-default" data-invoke="cancel">'+(this.variable.CancelWorks||"取消")+"<\/button>"),!0}});t.alert=function(n,i,r){return t.isFunction(i)&&(r=i,i=undefined),t("alert",{title:i||"温馨提示",content:n,invokeCancel:r})};t.register("dialog.alert.confirm",{status:"question",ok:function(){this.invoke("invoke-ok")!==!1&&this.close()},footer:function(){if(this.base.footer())return this.$footer.append('<button type="button" class="btn btn-primary" data-invoke="ok">'+(this.variable.OkWords||"确定")+"<\/button>"),!0}});t.confirm=function(n,i,r,u){return t.isFunction(i)&&(u=r,r=i,i=undefined),t("confirm",{title:i||"温馨提示",content:n,invokeOk:r,invokeCancel:u})};t.register("dialog.validate",{fade:!0,timeout:2500,visible:!0,status:"warning",container:function(){this.variable.content=t.replace('<div class="alert alert-{status} alert-dismissible" role="alert"><button type="button" class="close" data-invoke="close"><span>&times;<\/span><\/button>{content}<\/div>',this.variable);this.base.container()},commit:function(){if(this.base.commit(),this.variable.timeout>0){var n=this;setTimeout(function(){n.close()},~~this.variable.timeout)}}});t.validate=function(n,i,r){return typeof i=="number"&&(r=i,i=undefined),t("validate",{status:i,timeout:r,content:n})}})(jQuery,v2Kit);