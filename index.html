<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>测试用例</title>
    <script src="src/v2.js"></script>
    <script src="src/v2.osm.js"></script>
    <script src="src/v2.rsm.js"></script>
    <script src="jquery.js"></script>
</head>
<body>
    <div id="testId">
        <div class="testClass"></div>
        <div data-attr="testAttr"></div>
        <div>
            <div data-attr="testAttr">
                <input type="radio" value="" checked="checked" />
            </div>
        </div>
    </div>
    <script>
        v2.ready({
            "$text": "请输入{name}",
            "&show": function (show) {
                console.log(this.text);
            }
        });
        var string = "{name.v2 + \"和\" + name.vue}都是{level?.very}实用的{type.slice(2)}，包含很多有趣的功能。".replace({ name: { v2: "v2", vue: "vue" }, level: { very: "【非常】" }, type: "前端轻量级框架" });
        console.log(string); // => v2和vue都是【非常】实用的轻量级框架，包含很多有趣的功能。
        var string = "{name.v2 + \"和\" + name.vue}都是{level?.very}实用的{type.slice(2)}，包含很多有趣的功能。".replace({ name: { v2: "v2", vue: "vue" }, type: "前端轻量级框架" });
        console.log(string); // => v2和vue都是实用的轻量级框架，包含很多有趣的功能。

        var string = "{.?.name}是一个优秀的前端框架？".replace(null);
        console.log(string); // => 是一个优秀的前端框架？

        var string = '问：v2是一个优秀的前端框架么？答：{if(isGood){ ^"appraise+"(票数："+ votes * platform +")"" } else if(isCommon) { "一般" } else { "否" }^}。'.judge({ isGood: true, isCommon: true, appraise: "非常棒的", votes: 1024, platform: 5 });
        console.log(string); // => 问：v2是一个优秀的前端框架么？答：非常棒的(票数：5120)。

        var string = '<ul>{for(var v in .){ $"<li>{v}</li>" } ^}</ul>'.each(["Vue", "V2", "Jquery", "Bootstrap"]);
        console.log(string); // => <ul><li>Vue</li><li>V2</li><li>Jquery</li><li>Bootstrap</li></ul>

        var string = '<ul>{for(var v<k> in .){ $"<li data-index="{k}">{v}</li>" } ^}</ul>'.each(["Vue", "V2", "Jquery", "Bootstrap"]);
        console.log(string); // => <ul><li data-index="0">Vue</li><li data-index="1">V2</li><li data-index="2">Jquery</li><li data-index="3">Bootstrap</li></ul>


        var string = '<ul>{for(var v in .){ if(v.show) { $"<li>{v.name}</li>" } else { $"<li><s>{v.name}<s></li>" } } ^}</ul>'.each([{ show: true, name: "Vue" }, { show: true, name: "V2" }, { show: false, name: "Jquery" }, { show: true, name: "Bootstrap" }]);
        console.log(string); // => <ul><li>Vue</li><li>V2</li><li><s>Jquery<s></li><li>Bootstrap</li></ul>


        console.log(v2.StringCb(7, "{a}+{b}+【{for(var v<k> in .){ if(v>1){ $'参数“{k}”的值({v})大于1;' } else { ^'v+1024' } }^}】+【{if(a>b){ ^'b'} else { ^'a' }^}】", { a: 2, b: 2.5, c: 3, d: 1 }));
        v2.use("input", {
            input: function () {
                console.log("input 构造函数");
            },
            init: function () {
                console.log("input");
                this.base.init("input");
            }
        });
        v2.use("input.inputEdit", {
            init: function () {
                console.log("inputEdit");
                this.base.init();
            },
            input: function () {
                console.log("input inputEdit 构造函数");
            },
            inputEdit: function () {
                console.log("inputEdit 构造函数");
            }
        });
        v2.use("input.*.inputEditV2", {
            init: function () {
                console.log("inputEditV2");
                this.base.init();
            },
            input: function () {
                console.log("input * inputEdit 构造函数");
            },
            inputEdit: function () {
                console.log("inputEdit inputEditV2 构造函数");
            },
            inputEditV2: function () {
                console.log("inputEditV2 构造函数");
            }
        });
        v2("inputEditV2", {
            name: "单位名称",
            show: true,
            access: true,
            ajax: function () {
                $.ajax("/jquery.min.js", {
                    async: true,
                    success: function () {
                        console.log("ajax");
                    }
                });
            },
            commit: function () {
                console.log("commit");
            }
        });
    </script>
</body>
</html>